(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[308],{3448:function(e,t,n){"use strict";n.r(t),n.d(t,"ModalDialog",function(){return d});var a=n(3370),i=n(1516),r=n(43),o=n.n(r),s=n(263),c=Object(a.t)({container:{display:"flex"}}),d=function(e){var t,n=!!(e.modal&&e.modal.isValid&&e.modal.props.settingsStore)&&Object(s.e)(e.modal.props.settingsStore.getSettingObject("isModalTabIndexDisabled","boolean"));return e.modal&&e.modal.isValid?o.a.createElement(i.e,{onDismiss:function(){e.modal.dismiss()},isOpen:!0,topOffsetFixed:null!==(t=e.modal.props.isTopOffsetFixed)&&void 0!==t&&t,containerClassName:c.container,titleAriaId:e.modal.props.titleAriaId,isBlocking:e.modal.props.isBlocking,isAlert:e.modal.props.isAlert},o.a.createElement("div",{tabIndex:n&&e.modal.props.preventTabIndex?void 0:-1,onKeyDown:function(t){"Escape"===t.key&&e.modal.isValid&&(t.preventDefault(),t.stopPropagation(),e.modal.dismiss())}},e.modal.props.getContent())):null};t.default=d},3559:function(e,t,n){"use strict";n.r(t),n.d(t,"MarkerCollection",function(){return V});var a=n(0),i=n(3364),r=n(272),o=n(826),s=n(43),c=n.n(s),d=n(263),l=n(341),u=n(198),f=n(415),p=n(3361),m=n(3356),_=n(3370),h="white",b=function(e,t,n){return{icon:g(e,t,n),iconHovered:{color:"".concat(h)},root:v,rootHovered:y,rootPressed:S,rootFocused:D}},g=function(e,t,n){return n?{"@media screen and (-ms-high-contrast: active)":{color:"Highlight !important",backgroundColor:"HighlightText !important"},color:"".concat(h," !important"),fontSize:e,lineHeight:e,height:e,margin:"".concat(t,"px"),pointerEvents:"auto",fontStyle:"normal"}:{color:"".concat(h," !important"),fontSize:e,lineHeight:e,height:e,margin:"".concat(t,"px"),pointerEvents:"auto",fontStyle:"normal"}},v=Object(a.e)({},{backgroundColor:"unset"}),y={backgroundColor:"#323130",borderRadius:"50%"},S={backgroundColor:"#3B3A39",borderRadius:"50%"},D={border:"1px solid #A19F9D",boxSizing:"border-box",borderRadius:"50%",selectors:{"::after":{outline:"none !important"}}},I="MarkerAriaDescription",x=n(120),C=function(){return Object(_.t)({textClipping:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textClippingBold:{fontWeight:x.t.semibold,display:"inline"}})},O=function(e){var t=e.tooltip,n=e.isMarkerTooltipBeakHidden,i=e.customTooltipContent,r=Object(a.e)(Object(a.e)({},function(e){return{maxWidth:"160px",calloutProps:{gapSpace:8,beakWidth:12,calloutMaxWidth:160,styles:{beak:{display:e?"none":"visible"},root:{padding:0}},doNotLayer:!0}}}(n)),{onRenderContent:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{"aria-hidden":"true",className:Object(_.t)({textClipping:{overflow:"hidden",whiteSpace:"pre-line",textOverflow:"ellipsis",minWidth:"16px",textAlign:"left",width:"max-content",maxWidth:"144px",padding:8}}).textClipping}," ",(e="<bold>",t.split("</bold>").map(function(t){return t.startsWith(e)?c.a.createElement("div",{className:C().textClippingBold}," ",t.substring(e.length,t.length)," "):t}))," "),i&&i());var e}});return c.a.createElement(E,Object(a.e)({},e,{tooltipProps:r}))},w=function(e){var t=e.tooltip,n=e.isMarkerTooltipBeakHidden,i=e.customTooltipContent,r=c.a.useRef(e.customTooltipState);return c.a.createElement(O,Object(a.e)({},e,{tooltip:t,isMarkerTooltipBeakHidden:n,customTooltipContent:function(){return i?i(function(){return r.current},function(e){r.current=e}):c.a.createElement(c.a.Fragment,null)}}))},E=function(e){var t=e.options,n=e.id,i=e.ariaLabel,r=e.markerTimeMs,o=e.relativePosition,s=e.isMarkerListItemReadoutFixEnabled,d=e.tooltipToggleHandler,h=e.isFluentMtcEnabled,g=e.onClick,v=e.log,y=e.localization,S=e.pluginIdentifier,D=e.playbackTimeSec,x=e.userActionName,C=e.tooltipProps,O=t.icon,w=c.a.createRef();e.isFluentMtcEnabled&&A(w);var E,L={onMouseEnter:function(){d(!0),S&&v.userAction("PluginButtonAction",Object(a.e)(Object(a.e)({},S),{name:"MarkerHover-".concat(x),playbackTimeSec:D,actionType:"Hover"}))},onMouseLeave:function(){return d(!1)}},k=(E=100*o,Object(_.t)({container:{position:"absolute",left:"calc(".concat(E,"% - ").concat(16,"px)"),bottom:"100%",zIndex:4,pointerEvents:"auto",padding:0}}));return c.a.createElement("div",Object(a.e)({key:"marker-".concat(n),className:k.container,id:"marker-container-".concat(n)},L),c.a.createElement(l.e,{id:"tooltip-marker-".concat(n),delay:u.e.zero,styles:{root:{display:"inline-block",zIndex:1e6,padding:0}},tooltipProps:C},c.a.createElement(f.e,{elementRef:w,styles:b(20,6,h),onClick:g,iconProps:{iconName:O,id:"marker-".concat(n)},ariaLabel:i,"aria-description":Object(p.e)(y.getString(I),"Event",Object(m.e)(r)),role:s?"listitem":void 0})))},A=function(e){c.a.useEffect(function(){var t=function(e){e.preventDefault(),e.stopPropagation()},n=null==e?void 0:e.current;return n&&(n.addEventListener("mousedown",t),n.addEventListener("touchstart",t)),function(){n&&(n.removeEventListener("mousedown",t),n.removeEventListener("touchstart",t))}},[])},L=n(196),k=function(e){return{display:"block",position:"absolute",top:"5px",left:e?"1px":"2px",width:e?"5px":"4px",height:"4px",backgroundColor:"black"}},M=function(e){return{position:"absolute",left:"3px",top:"1px",visibility:e?"visible":"hidden",width:"1px",height:"12px",backgroundColor:"#FFFFFF"}},P={display:"block",width:"9px",height:"14px",background:"linear-gradient(to bottom, transparent 0px, transparent 5px, black 5px, black 9px, transparent 9px, transparent 100%)",maskImage:"linear-gradient(to right, transparent 0px, transparent 3px, white 3px, white 6px, transparent 6px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 1px, white 1px, white 13px, transparent 13px, transparent 100%)",WebkitMaskImage:"linear-gradient(to right, transparent 0px, transparent 3px, white 3px, white 6px, transparent 6px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 1px, white 1px, white 13px, transparent 13px, transparent 100%)",maskComposite:"intersect",WebkitMaskComposite:"destination-in"},T={display:"block",width:"9px",height:"14px",background:"linear-gradient(to bottom, transparent 0px, transparent 4px, black 4px, black 9px, transparent 9px, transparent 100%)",maskImage:"linear-gradient(to right, transparent 0px, transparent 3px, white 3px, white 6px, transparent 6px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 1px, white 1px, white 13px, transparent 13px, transparent 100%)",WebkitMaskImage:"linear-gradient(to right, transparent 0px, transparent 3px, white 3px, white 6px, transparent 6px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 1px, white 1px, white 13px, transparent 13px, transparent 100%)",maskComposite:"intersect",WebkitMaskComposite:"copy"},U={background:"linear-gradient(to right, transparent 0px, transparent 4px, white 4px, white 5px, transparent 5px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 5px, black 5px, black 9px, transparent 9px, transparent 100%)",maskImage:"linear-gradient(to right, transparent 0px, transparent 2px, white 2px, white 7px, transparent 7px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 1px, white 1px, white 13px, transparent 13px, transparent 100%)",WebkitMaskImage:"linear-gradient(to right, transparent 0px, transparent 2px, white 2px, white 7px, transparent 7px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 1px, white 1px, white 13px, transparent 13px, transparent 100%)"},F=function(e){return{outlineColor:e,outlineOffset:"-3px",maskImage:"linear-gradient(to right, transparent 0px, transparent 2px, white 2px, white 7px, transparent 7px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 1px, white 1px, white 13px, transparent 13px, transparent 100%)",WebkitMaskImage:"linear-gradient(to right, transparent 0px, transparent 2px, white 2px, white 7px, transparent 7px, transparent 100%), linear-gradient(to bottom, transparent 0px, transparent 1px, white 1px, white 13px, transparent 13px, transparent 100%)"}},H=function(e,t){return void 0===t&&(t=!1),{root:t?T:P,rootHovered:U,rootFocused:F(e)}},R=function(e){var t=e.tooltip,n=e.id,i=e.ariaLabel,r=e.markerTimeMs,o=e.relativePosition,s=e.isMarkerListItemReadoutFixEnabled,d=e.isMarkerTooltipBeakHidden,h=e.isTimelineMarkerGradientRenderingEnabled,b=e.isFluentMtcEnabled,g=e.localization,v=e.tooltipToggleHandler,y=e.onClick,S=Object(L.e)().semanticColors.focusBorder,D=function(e,t){return t?Object(_.t)({container:{position:"absolute",left:"".concat(e,"%"),bottom:"auto",zIndex:0,pointerEvents:"auto"}}):Object(_.t)({container:{position:"absolute",left:"".concat(e,"%"),bottom:"auto",zIndex:12}})}(100*o,b),x=Object(a.e)(Object(a.e)({},function(e){return{maxWidth:"160px",calloutProps:{gapSpace:8,backgroundColor:"#292827",beakWidth:12,calloutMaxWidth:160,styles:{beak:{display:e?"none":"visible"},beakCurtain:{backgroundColor:"#292827"}},doNotLayer:!0}}}(d)),{onRenderContent:function(){return c.a.createElement("div",{"aria-hidden":"true",className:C().textClipping}," ",t," ")}});return c.a.createElement("div",{key:"marker-".concat(n),className:D.container,id:"marker-container-".concat(n)},c.a.createElement(l.e,{id:"tooltip-marker-".concat(n),delay:u.e.zero,styles:{root:{display:"block",height:"14px",width:"8px",transform:"translateX(-50%)",zIndex:1e6}},tooltipProps:x,onTooltipToggle:v},h?c.a.createElement(f.e,{styles:H(S,b),onClick:y,id:"marker-".concat(n),role:s?"listitem":void 0,ariaLabel:i,"aria-description":Object(p.e)(g.getString(I),"Chapter",Object(m.e)(r))}):c.a.createElement("div",{style:{display:"block",height:"100%",width:"100%"},onMouseEnter:function(){var e=document.getElementById("marker-".concat(n)),t=k(!0);e&&(e.style.width=String(t.width),e.style.left=String(t.left));var a=document.getElementById("timeline-marker-snap-pointer-".concat(n));a&&(a.style.visibility=String(M(!0).visibility))},onMouseLeave:function(){var e=document.getElementById("marker-".concat(n)),t=k(!1);e&&(e.style.width=String(t.width),e.style.left=String(t.left));var a=document.getElementById("timeline-marker-snap-pointer-".concat(n));a&&(a.style.visibility=String(M(!1).visibility))}},c.a.createElement("div",{id:"marker-".concat(n),style:k(!1),tabIndex:0,role:s?"listitem":"button","aria-label":i,"data-is-focusable":!0,onClick:y}),c.a.createElement("div",{id:"timeline-marker-snap-pointer-".concat(n),style:M(!1)}))))},N=function(e){return c.a.createElement(j,Object(a.e)({},e))},B=function(e){return c.a.createElement(j,Object(a.e)({},e))},j=function(e){return e.isVisible?"AboveTimeline"===e.options.type?e.customTooltipState?c.a.createElement(w,Object(a.e)({},e,{options:e.options})):c.a.createElement(O,Object(a.e)({},e,{options:e.options})):c.a.createElement(R,Object(a.e)({},e)):null},V=function(e){var t=Object(d.e)(e.settingsStore.getSettingObject("isMarkerHidingOnSmallScreensEnabled","boolean")),n=Object(d.e)(e.settingsStore.getSettingObject("isMarkerTooltipBeakHidden","boolean")),s=Object(d.e)(e.settingsStore.getSettingObject("isMarkerClickLoggingInsidePlatformEnabled","boolean")),l=Object(d.e)(e.settingsStore.getSettingObject("isTimelineMarkerGradientRenderingEnabled","boolean")),u=Object(d.e)(e.settingsStore.getSettingObject("isMarkerCollisionLogicEnabled","boolean")),f=Object(d.e)(e.settingsStore.getSettingObject("isBasicPOICollisionHandlingEnabled","boolean")),p=c.a.useState(new Set),m=p[0],_=(p[1],c.a.useState(e.videoRegionWidth.value)),h=_[0],b=_[1];c.a.useEffect(function(){if(t&&e.videoRegionWidth){var n=Object(i.t)(function(){e.videoRegionWidth&&b(e.videoRegionWidth.value)},200);return e.videoRegionWidth.subscribe(n)}},[t,e.videoRegionWidth]);var g=c.a.useMemo(function(){return Object(a.c)([],e.components,!0).sort(function(e,t){return e.timeMs-t.timeMs})},[e.components]),v=Object(d.e)(e.settingsStore.getSettingObject("isMarkerListItemReadoutFixEnabled","boolean")),y=[];c.a.useMemo(function(){if(u){var t=function(t){return t*h/e.videoLengthInMs};[["AboveTimeline",36],["OnTimeline",9]].forEach(function(n){var i=n[0],r=n[1],o=g.filter(function(e){return e.props.markerOptions.type===i});if(o.length){y.push(o[0]);var s=o[0];o.slice(1).forEach(function(n){t(n.timeMs)-t(s.timeMs)<r&&n.pluginIdentifier&&!m.has(n.id)&&(!n.props.videoContainerWidthThreshold||h>n.props.videoContainerWidthThreshold)?(e.log.appLogic("PluginAppLogic",Object(a.e)({name:"MarkerCollision".concat(i,"-").concat(n.props.userActionLoggingInfo.userActionName),message:JSON.stringify({markerLeft:s.props.userActionLoggingInfo.userActionName,markerRight:n.props.userActionLoggingInfo.userActionName})},n.pluginIdentifier)),m.add(n.id)):"AboveTimeline"!==n.props.markerOptions.type||m.has(n.id)||y.push(n),"OnTimeline"===n.props.markerOptions.type&&y.push(n),s=y[y.length-1]})}})}},[u,g,e.log,e.videoLengthInMs,h,y]);var S=function(i){var r,o;if(!(null==i?void 0:i.isVisible)||t&&i.props.videoContainerWidthThreshold&&h<i.props.videoContainerWidthThreshold)return null;var d={isMarkerTooltipBeakHidden:n,isTimelineMarkerGradientRenderingEnabled:l,isMarkerListItemReadoutFixEnabled:v,isVisible:i.isVisible,id:i.id,ariaLabel:i.props.ariaLabel,markerTimeMs:i.props.timeMs,tooltip:i.tooltip,options:i.props.markerOptions,relativePosition:i.timeMs/e.videoLengthInMs,onClick:function(){var t;if(e.currentPlaybackTimeInSeconds.value=i.timeMs/1e3,i.props.onClick(),s&&i.pluginIdentifier){var n=i.props.userActionLoggingInfo.additionalSchema||{};e.log.userAction("PluginButtonAction",Object(a.e)(Object(a.e)(Object(a.e)({name:"MarkerClick-".concat(i.props.userActionLoggingInfo.userActionName)},i.pluginIdentifier),n),{actionType:"LeftClick",playbackTimeSec:null!==(t=e.currentPlaybackTimeInSeconds.value)&&void 0!==t?t:-1}))}},tooltipToggleHandler:e.tooltipToggleHandler,log:e.log,localization:e.localization,pluginIdentifier:i.pluginIdentifier,playbackTimeSec:null!==(r=e.currentPlaybackTimeInSeconds.value)&&void 0!==r?r:-1,userActionName:i.props.userActionLoggingInfo.userActionName,isFluentMtcEnabled:e.isFluentMtcEnabled};return(null===(o=i.props)||void 0===o?void 0:o.customTooltipState)?c.a.createElement(N,Object(a.e)({key:"marker-".concat(i.id)},d,{customTooltipContent:i.props.customTooltipContent,customTooltipState:i.props.customTooltipState})):c.a.createElement(B,Object(a.e)({key:"marker-".concat(i.id)},d,{customTooltipContent:i.props.customTooltipContent}))};return e.showLoadingUi?null:(g=f?y:g,v?c.a.createElement(r.e,{direction:1,onKeyDown:function(e){if("Tab"===e.key){var t=e.currentTarget.querySelectorAll('[role="listitem"]');t.forEach(function(e,t){e.setAttribute("tabIndex",t?"-1":"0")}),t[0].focus()}},role:"list"},g.map(function(e){return S(e)})):c.a.createElement(r.e,{direction:1},c.a.createElement(o.e,{items:g,onRenderCell:S})))};t.default=V},3620:function(e,t,n){"use strict";n.r(t),n.d(t,"ButtonCollection",function(){return m});var a=n(0),i=n(3364),r=n(195),o=n(341),s=n(198),c=n(189),d=n(614),l=n(43),u=n.n(l),f=n(263),p=n(3370),m=function(e){var t=u.a.useState(screen.width),n=t[0],l=t[1],m=Object(p.t)({container:{display:"flex",justifyContent:"flex-end"}}),_=Object(f.e)(e.settingsStore.getSettingObject("isControlBarButtonsLocalizationEnabled","boolean")),h=Object(f.e)(e.settingsStore.getSettingObject("areAriaLabeAndRoleWhenButtonCollectionHasOneChildDisabled","boolean")),b=function(e,t){var i={},r={},o="";return t&&t.isUnderlined&&(i={content:"''",display:"block",height:"4px",width:"calc(100% - 4px)",margin:"0 2px",position:"absolute",bottom:"-8px",backgroundColor:"rgba(255, 255, 255, 0.5)",boxSizing:"inherit"},r=Object(a.e)(Object(a.e)({},i),{bottom:"-8px !important",top:"unset !important",left:"unset !important",right:"unset !important",outline:"unset !important"}),o="1px solid"),{root:{backgroundColor:"unset",border:0,minWidth:32,padding:0,color:"white",selectors:{"::after":i},display:e&&t&&t.reflowThreshold&&n<t.reflowThreshold?"none":"inline-block"},rootHovered:{backgroundColor:"unset",color:"white"},rootPressed:{backgroundColor:"unset"},rootFocused:{selectors:{"::after":r},outline:o},rootCheckedHovered:{selectors:{"::after":r},backgroundColor:"unset"},rootChecked:{selectors:{"::after":r},backgroundColor:"unset"},icon:{color:"white !important",fontSize:"20px",margin:0},label:{margin:0},iconHovered:{color:"white"}}},g=function(t){var n=Object(f.e)(e.settingsStore.getSettingObject("addAriaAttributesToToggleButton","boolean"));return e.components.filter(function(e){return e.props.type===t&&e.isVisible}).map(function(e){var a;return{key:"button-".concat(e.id),text:"Secondary"===t?e.tooltip:"",iconProps:{iconName:e.icon},iconOnly:!0,onClick:y(e.props.onClick,e.userActionName,e.pluginIdentifier),disabled:!e.isEnabled,tooltip:e.tooltip,ariaLabel:e.ariaLabel,isUnderlined:e.isUnderlined,reflowThreshold:e.reflowThreshold,toggle:n?!!e.props.toggleButtonRole:null,role:n?null!==(a=e.props.toggleButtonRole)&&void 0!==a?a:"button":null,"aria-checked":n&&e.props.toggleButtonRole&&"switch"===e.props.toggleButtonRole?e.isUnderlined:null,checked:n&&e.props.toggleButtonRole&&"switch"!==e.props.toggleButtonRole?e.isUnderlined:null}})},v=function(){return g("Primary")};u.a.useEffect(function(){var e=function(){l(Math.min(screen.width,window.innerWidth))},t=Object(i.n)(e,200);return e(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},[]);var y=function(t,n,i){return function(){var r;t(),i&&e.log.userAction("PluginButtonAction",Object(a.e)(Object(a.e)({name:n},i),{actionType:"LeftClick",playbackTimeSec:null!==(r=e.currentPlaybackTimeInSeconds.value)&&void 0!==r?r:-1}))}},S=h&&1===v().length?void 0:_?e.localization.getString("ControlBarButtonsAriaLabel"):"Control Bar Buttons",D=h&&1===v().length?void 0:"menubar";return v().length>0?u.a.createElement("div",{className:m.container},u.a.createElement(d.e,{vertical:e.vertical,"aria-label":S,role:D,items:v(),overflowItems:g("Secondary"),onRenderOverflowButton:function(e){return u.a.createElement(c.e,{role:"menuitem",title:"More items",styles:b(),menuIconProps:{iconName:r.e.More,styles:{root:{color:"white !important"}}},menuProps:{items:e}})},onRenderItem:function(t){var n=Object(f.e)(e.settingsStore.getSettingObject("enableHidingButtonOnReflow","boolean")),i=b(n,t),r={root:{display:i.root.valueOf().display,zIndex:1e6}};return u.a.createElement(o.e,{delay:s.e.zero,content:t.tooltip,id:"tooltip-".concat(t.key),styles:r,calloutProps:{doNotLayer:!0}},u.a.createElement(c.e,Object(a.e)({},t,{styles:i})))}})):null};t.default=m}}]);